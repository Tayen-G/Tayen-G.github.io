{"meta":{"title":"Tayen's Blog","subtitle":"行走在路上~","description":null,"author":"Tayen","url":"https://tayen-g.github.io"},"pages":[{"title":"分类","date":"2017-07-28T10:06:38.000Z","updated":"2017-07-28T02:44:04.504Z","comments":false,"path":"categories/index.html","permalink":"https://tayen-g.github.io/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2017-07-28T03:38:29.720Z","updated":"2017-07-28T03:38:29.659Z","comments":false,"path":"tags/index.html","permalink":"https://tayen-g.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"【音乐】分享一个街头演奏集锦","slug":"分享一个街头演奏集锦","date":"2017-08-07T17:53:30.000Z","updated":"2017-08-07T10:13:46.423Z","comments":true,"path":"2017/08/08/分享一个街头演奏集锦/","link":"","permalink":"https://tayen-g.github.io/2017/08/08/分享一个街头演奏集锦/","excerpt":"这大概就是活成了自己喜欢的样子，过上了自己想要的生活。","text":"这大概就是活成了自己喜欢的样子，过上了自己想要的生活。 加油。共勉。","categories":[{"name":"音乐","slug":"音乐","permalink":"https://tayen-g.github.io/categories/音乐/"}],"tags":[{"name":"音乐","slug":"音乐","permalink":"https://tayen-g.github.io/tags/音乐/"},{"name":"生活","slug":"生活","permalink":"https://tayen-g.github.io/tags/生活/"}]},{"title":"MVC学习（理论篇）","slug":"2017-08-07-MVC学习（理论篇）","date":"2017-08-07T17:03:54.000Z","updated":"2017-08-07T09:48:12.957Z","comments":true,"path":"2017/08/08/2017-08-07-MVC学习（理论篇）/","link":"","permalink":"https://tayen-g.github.io/2017/08/08/2017-08-07-MVC学习（理论篇）/","excerpt":"MVC全名是Model View Controller，是模型(model)－视图(view)－控制器(controller)的缩写，一种软件设计典范，是一种设计创建 Web 应用程序的模式。用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑聚集到一个部件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。","text":"MVC全名是Model View Controller，是模型(model)－视图(view)－控制器(controller)的缩写，一种软件设计典范，是一种设计创建 Web 应用程序的模式。用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑聚集到一个部件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。 MVC含义 Model 是应用程序中用于处理应用程序数据逻辑的部分。通常模型对象负责在数据库中存取数据。一般在model中定义一些用于存取数据的函数，需要操作时在Controller中调用。 View 是应用程序中处理数据显示的部分。通常视图是依据模型数据创建的。也就是我们能直观看到的部分。 Controller 是应用程序中处理用户交互的部分。通常控制器负责从视图读取数据，控制用户输入，并向模型发送数据。调用model中的函数进行对数据的操作；调用框架核心文件中的函数对视图进行操作。 关于MVC的个人理解在学习这方面的内容的时候感觉理解有些困难，不知道大家有没有这样的感觉。看了许多相关文章介绍，感觉最形象的形容，就是把Model看作厨师，View看作菜单，Controller看作服务员，顾客通过菜单，向服务员点菜，服务员把获取到的这一信息交给后厨，厨师做菜，把做好的菜交给顾客。顾客也就是用户。顾客吃到了菜，就是用户在视图层看到了预期的反馈。 MVC工作流程 浏览者-&gt;调用控制器，发出指令 控制器-&gt;按指令选取一个合适的模型 模型-&gt;按控制器指令取得相应数据 控制器-&gt;按指令选取相应视图 视图-&gt;控制器把第三步取得的数据按用户想要的样子显示 MVC模式的作用MVC分层有助于管理复杂的应用程序，因为开发人员可以在一个时间内专门关注一个方面。例如，可以在不依赖业务逻辑的情况下专注于视图设计。同时也让应用程序的测试更加容易。MVC分层同时也简化了分组开发。不同的开发人员可同时开发视图、控制器逻辑和业务逻辑。 PS.以上大多数内容来自百科。单看理论性的文章可能很难理解MVC的工作流程或者设计方法。在后边我会写一个基于MVC模式的框架，通过完成一个框架，会加深对这个概念的理解。","categories":[{"name":"学习","slug":"学习","permalink":"https://tayen-g.github.io/categories/学习/"}],"tags":[{"name":"Php","slug":"Php","permalink":"https://tayen-g.github.io/tags/Php/"},{"name":"设计模式","slug":"设计模式","permalink":"https://tayen-g.github.io/tags/设计模式/"}]},{"title":"Ajax学习笔记（实现）","slug":"Ajax学习笔记（实现）","date":"2017-07-31T08:53:00.000Z","updated":"2017-07-31T03:18:08.396Z","comments":true,"path":"2017/07/31/Ajax学习笔记（实现）/","link":"","permalink":"https://tayen-g.github.io/2017/07/31/Ajax学习笔记（实现）/","excerpt":"上篇文章提到了Ajax相关的理论知识，这一篇来写一写具体的原生实现。","text":"上篇文章提到了Ajax相关的理论知识，这一篇来写一写具体的原生实现。用来测试的页面具体思路是通过在输入框中输入员工编号，即时的查询是否有此员工存在并显示查询结果。首先写后台，用php。这里用一个数组储存员工信息，将脚本保存为doAction.php。1234567891011121314151617&lt;?php header(\"Content-Type:text/plain;charset=utf-8\"); $staff = array(array(\"name\"=&gt;\"大\",\"number\"=&gt;\"101\",\"sex\"=&gt;\"男\",\"job\"=&gt;\"经理\"), array(\"name\"=&gt;\"二\",\"number\"=&gt;\"102\",\"sex\"=&gt;\"男\",\"job\"=&gt;\"工程师\"), array(\"name\"=&gt;\"三\",\"number\"=&gt;\"103\",\"sex\"=&gt;\"女\",\"job\"=&gt;\"销售\") ); $number=$_GET['number']; foreach ($staff as $value) &#123; if($value['number']==$number)&#123; $result=\"找到员工，编号：\".$value['number'].\"，姓名：\".$value['name'].\"，性别\".$value['sex'].\"，职位\".$value['job']; break; &#125;else &#123; $result=\"没有找到员工\"; &#125; &#125; echo $result; 接下来是前端页面,以及要实现ajax的js代码。说一下其中几个关键点： 输入框中，添加onkeyup属性，即松开键盘时执行search()函数 js代码中，首先创建XMLHttpRequest对象，用open方法发起一个请求。因为是Get方法，所以要在url中添加要查询的关键字number 接下来用send方法发送请求 每当readystate发生改变时，调用onreadystatechange所存储的函数 readystate返回当前XMLHttpRequest请求的状态，分别有以下五种（表格来自w3school） 状态 名称 描述 0 Uninitialized 初始化状态。XMLHttpRequest 对象已创建或已被 abort() 方法重置 1 Open open() 方法已调用，但是 send() 方法未调用。请求还没有被发送 2 Sent Send() 方法已调用，HTTP 请求已发送到 Web 服务器。未接收到响应 3 Receiving 所有响应头部都已经接收到。响应体开始接收但未完成 4 Loaded HTTP 响应已经完全接收 status是由服务器返回的状态码，200表示成功，常见错误404，表示未找到资源。 通过js判断与服务器交换数据是否成功，成功的话显示服务器返回的文本，即responseText，不成功的话返回服务器的状态码。1234567891011121314151617181920&lt;h2&gt;员工查询&lt;/h2&gt; 请输入员工编号： &lt;input type=\"text\" name=\"keyword\" id=\"keyword\" onkeyup=\"search()\"&gt; &lt;br/&gt; &lt;p id=\"searchResult\"&gt;&lt;/p&gt; &lt;script type=\"text/javascript\"&gt; function search() &#123; var request = new XMLHttpRequest(); request.open('GET', 'doAction.php?number=' + document.getElementById('keyword').value); request.send(); request.onreadystatechange = function() &#123; if (request.readyState === 4&amp;&amp;request.status === 200) &#123; document.getElementById('searchResult').innerHTML = request.responseText; else &#123; alert(request.status); &#125; &#125; &#125; &#125; &lt;script&gt; 以上是利用Get方法进行Ajax技术的实现。利用Post方法同样可以实现这一技术。首先在php页面做改动，将1$number=$_GET['number']; 更改为1$number=$_POST['number']; 前端页面中，将12request.open('GET', 'doAction.php?number=' + document.getElementById('keyword').value);request.send(); 更改为1234request.open('POST', 'doAction.php');var data='number='+document.getElementByID('keyword').value;request.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");request.send(data); 使用POST方法时，一定要在Open和send中间加这一句1request.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"); 个人理解是因为GET方法和POST方法给后台传递数据的方式不同。可以详细了解一下HTTP协议。 构造一个变量作为send方法的参数。这个变量的格式类似表单提交。 最后贴个测试结果。首先打开页面 打开页面无输入 输入没有查询结果的数字 输入没有结果的查询 输入有查询结果的数字 输入有结果的查询","categories":[{"name":"学习","slug":"学习","permalink":"https://tayen-g.github.io/categories/学习/"}],"tags":[{"name":"Ajax","slug":"Ajax","permalink":"https://tayen-g.github.io/tags/Ajax/"},{"name":"Php","slug":"Php","permalink":"https://tayen-g.github.io/tags/Php/"}]},{"title":"Ajax学习笔记（理论篇）","slug":"Ajax学习笔记（理论篇）","date":"2017-07-27T15:42:25.000Z","updated":"2017-07-31T01:43:51.163Z","comments":true,"path":"2017/07/27/Ajax学习笔记（理论篇）/","link":"","permalink":"https://tayen-g.github.io/2017/07/27/Ajax学习笔记（理论篇）/","excerpt":"AJAX即异步JavaScript和XML。是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。通过在后台与服务器进行少量数据交换，可以使网页实现异步更新，在不重新加载整个网页的情况下，对网页的某部分内容进行更新。","text":"AJAX即异步JavaScript和XML。是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。通过在后台与服务器进行少量数据交换，可以使网页实现异步更新，在不重新加载整个网页的情况下，对网页的某部分内容进行更新。 了解HTTP 计算机通过网络进行通信的规则 无状态的协议 不建立持久连接，服务端不保留客户端信息 请求过程 建立tcp连接 浏览器向服务器发送请求命令 浏览器发送请求头信息 服务器应答 服务器发送应答头信息 服务器向浏览器发送数据 服务器关闭tcp连接 http请求（四个部分） 请求的方法或动作（例如GET或POST） 正在请求的URL 请求头，包含客户端环境信息，身份验证信息等 请求体，请求的正文，包含客户端提交的信息 GET一般用于信息获取，使用URL传递参数，对发送信息的数量有限制。幂等：执行一次或执行多次获取的信息是相同的。 POST一般用于修改服务器上的资源，对于发送的信息数量无限制。 HTTP响应 状态码，显示请求成功/失败； 1xx 受到请求，正在处理 2xx 请求被正确接收 3xx 重定向 4xx 客户端错误（提交的请求有误） 5xx 服务器错误（不能完成对请求的处理） 响应头，包含服务端的一些信息； 响应体，响应正文，服务器返回的资源。 Ajax核心 IE6以上的浏览器创建XMLHttpRequset()对象eg：request=new XMLHttpRequest(); IE6以下request=new ActiveXObject(“Microsoft.XMLHTTP”); XMLHttpRequest发送请求 构造请求open(method,url[,async])method：发送请求的方法url：请求的地址（可使用相对地址）async：请求是异步/同步（true/false）默认true 发送send(string)string：GET方法:NULL；POST方法:需要参数，以及http头信息 XMLHttpRequest获取响应 reponseText：获取字符串形式的响应数据 reponseXML：获取XML形式的响应数据 status/statusText：以数字/文本的形式返回http状态码 getAllResponseHeader()：获取所有的响应报头 getResponseHeaer()：查询响应中某个字段的值 readyState属性：代表服务器响应的变化 0：请求未初始化，open还没调用 1：服务器连接已建立，open已调用 2：请求已接收，收到头信息 3：请求处理中，收到响应主体 4：请求已完成，响应已就绪 用onreadystatechange方法判断响应是否完成 1234request.onreaystatechange=function()&#123; if(request.readyState===4&amp;&amp;request.status===200)//请求成功 //进一步操作&#125;","categories":[{"name":"学习","slug":"学习","permalink":"https://tayen-g.github.io/categories/学习/"}],"tags":[{"name":"Ajax","slug":"Ajax","permalink":"https://tayen-g.github.io/tags/Ajax/"},{"name":"Php","slug":"Php","permalink":"https://tayen-g.github.io/tags/Php/"}]}]}